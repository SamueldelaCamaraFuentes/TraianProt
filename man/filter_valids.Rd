% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{filter_valids}
\alias{filter_valids}
\title{Filter proteins by valid values}
\usage{
filter_valids(
  df,
  metadata,
  unique_proteins,
  min_prop = NULL,
  at_least_one = FALSE,
  labeltype = 1
)
}
\arguments{
\item{metadata}{A data frame mapping intensity column names to groups.}

\item{raw_data}{A data frame containing the raw protein expression data.}

\item{valid_thr}{A numeric threshold for the minimum number of valid
values. For example, 2 means a protein must be valid
in at least 2 samples to be kept.}
}
\value{
A list containing the filtered data frame ("filtered") and
the LOG2-transformed data frame ("LOG2").
}
\description{
A helper function to filter a protein expression data frame
(e.g., from MaxQuant) based on a minimum number of valid
(non-NA, non-zero) values across samples.
}
\examples{
# Create TINY, SYNTHETIC data for the example:
my_raw_data <- data.frame(
   Protein.ID = c("P1", "P2", "P3"),
   Intensity.S1 = c(100, 200, 0),
   Intensity.S2 = c(110, 210, 300),
   Potential.contaminant = c("", "", ""),
   Reverse = c("", "", ""),
   Only.identified.by.site = c("", "", "")
)

my_metadata <- data.frame(
   intensity_sample_name = c("Intensity.S1", "Intensity.S2"),
   group = c("A", "B"),
   log2_col = c("LOG2.S1", "LOG2.S2")
)

# This example is self-contained and runnable
filtered_list <- filter_valids(my_raw_data, my_metadata, 2)
print(filtered_list$filtered)

}
